<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/gdUnit3/assets/css/just-the-docs-default.css"> <script src="/gdUnit3/assets/js/vendor/lunr.min.js"></script> <script src="/gdUnit3/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Your First Test | GdUnit3</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Your First Test" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Create your first Test" /> <meta property="og:description" content="Create your first Test" /> <meta property="og:site_name" content="GdUnit3" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2023-04-23T09:48:46+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Your First Test" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-23T09:48:46+00:00","datePublished":"2023-04-23T09:48:46+00:00","description":"Create your first Test","headline":"Your First Test","mainEntityOfPage":{"@type":"WebPage","@id":"/gdUnit3/first_steps/firstTest/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/gdUnit3/assets/images/logo.png"}},"url":"/gdUnit3/first_steps/firstTest/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/gdUnit3/" class="site-title lh-tight"><div class="site-logo"></div> GdUnit3</a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <div class="nav-category">First Steps</div> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit3/first_steps/install/" class="nav-list-link">Installation</a></li><li class="nav-list-item"><a href="/gdUnit3/first_steps/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item"><a href="/gdUnit3/first_steps/firstTest/" class="nav-list-link active">Your First Test</a></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Asserts category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/gdUnit3/asserts/index/" class="nav-list-link">Asserts</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-string/" class="nav-list-link">String Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-bool/" class="nav-list-link">Boolean Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-number/" class="nav-list-link">Number Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-integer/" class="nav-list-link">Integer Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-float/" class="nav-list-link">Float/Double Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-array/" class="nav-list-link">Array Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-dictionary/" class="nav-list-link">Dictionary Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-object/" class="nav-list-link">Object Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-vector2/" class="nav-list-link">Vector2 Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-vector3/" class="nav-list-link">Vector3 Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-file/" class="nav-list-link">File Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-function/" class="nav-list-link">Function/Method Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-signal/" class="nav-list-link">Signal Assert</a></li><li class="nav-list-item "><a href="/gdUnit3/asserts/assert-that/" class="nav-list-link">AssertThat</a></li></ul></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Advanced Testing category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/gdUnit3/advanced_testing/index/" class="nav-list-link">Advanced Testing</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit3/advanced_testing/sceneRunner/" class="nav-list-link">Scene Runner</a></li><li class="nav-list-item "><a href="/gdUnit3/advanced_testing/mock/" class="nav-list-link">Mocking</a></li><li class="nav-list-item "><a href="/gdUnit3/advanced_testing/spy/" class="nav-list-link">Spying</a></li><li class="nav-list-item "><a href="/gdUnit3/advanced_testing/argument_matchers/" class="nav-list-link">Argument Matchers</a></li><li class="nav-list-item "><a href="/gdUnit3/advanced_testing/fuzzing/" class="nav-list-link">Fuzzing</a></li><li class="nav-list-item "><a href="/gdUnit3/advanced_testing/tools/" class="nav-list-link">Tools and Monitoring</a></li><li class="nav-list-item "><a href="/gdUnit3/advanced_testing/cmd/" class="nav-list-link">Command Line Tool</a></li><li class="nav-list-item "><a href="/gdUnit3/advanced_testing/orphan/" class="nav-list-link">Orphan Nodes</a></li></ul></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Tutorials category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/gdUnit3/tutorials/index/" class="nav-list-link">Tutorials</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit3/tutorials/tutorial_basics/" class="nav-list-link">Basics</a></li><li class="nav-list-item "><a href="/gdUnit3/tutorials/tutorial_scene_runner/" class="nav-list-link">Scene Runner</a></li></ul></li></ul> <div class="nav-category">FAQ</div> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit3/faq/test-suite/" class="nav-list-link">TestSuite</a></li><li class="nav-list-item"><a href="/gdUnit3/faq/inspector/" class="nav-list-link">Inspector</a></li><li class="nav-list-item"><a href="/gdUnit3/faq/test-case/" class="nav-list-link">TestCase</a></li><li class="nav-list-item"><a href="/gdUnit3/faq/C%23/" class="nav-list-link">C# Support</a></li><li class="nav-list-item"><a href="/gdUnit3/faq/ci/" class="nav-list-link">Continuous Integration Testing</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search GdUnit3" aria-label="Search GdUnit3" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"> <use xlink:href="#svg-search"></use> </svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/MikeSchulze/gdUnit3" class="site-button" target="_blank" rel="noopener noreferrer" > GdUnit3 on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="create-your-first-test"> <a href="#create-your-first-test" class="anchor-heading" aria-labelledby="create-your-first-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Create your first Test </h1> <h2 id="before-you-start"> <a href="#before-you-start" class="anchor-heading" aria-labelledby="before-you-start"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Before you start </h2> <p>Create a new folder <strong>first_steps</strong> in your root project and copy this class into it.<br /> It should be located at <code class="language-plaintext highlighter-rouge">res://first-steps/TestPerson.gd</code></p> <ul class="tab" data-tab="f6338033-0e95-463f-be06-cb6011f47c8d" data-name="first-step-test_class"> <li class="active"> <a href="#">TestPerson.gd </a> </li> </ul> <ul class="tab-content" id="f6338033-0e95-463f-be06-cb6011f47c8d" data-name="first-step-test_class"> <li class="active"> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">class_name</span> <span class="no">TestPerson</span>
<span class="n">extends</span> <span class="no">Node</span>

<span class="n">var</span> <span class="n">_first_name</span> <span class="ss">:String</span>
<span class="n">var</span> <span class="n">_last_name</span> <span class="ss">:String</span>

<span class="n">func</span> <span class="n">_init</span><span class="p">(</span><span class="n">first_name</span> <span class="ss">:String</span><span class="p">,</span> <span class="n">last_name</span> <span class="ss">:String</span><span class="p">):</span>
	<span class="n">_first_name</span> <span class="o">=</span> <span class="n">first_name</span>
	<span class="n">_last_name</span> <span class="o">=</span> <span class="n">last_name</span>

<span class="n">func</span> <span class="n">full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="no">String</span><span class="p">:</span>
	<span class="k">return</span> <span class="n">_first_name</span> <span class="o">+</span> <span class="s2">" "</span> <span class="o">+</span> <span class="n">_last_name</span>

</code></pre></div></div> </li> </ul> <h2 id="create-the-test"> <a href="#create-the-test" class="anchor-heading" aria-labelledby="create-the-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Create the Test </h2> <p>The fastest way to create a test is to use the built-in “Create Test” function. To do this, open your script that you want to test and right-click on a function and then click “Create Test”.</p> <p><img src="/gdUnit3/assets/images/first-steps/context-menu.png" alt="" /></p> <p>We selected the function <code class="language-plaintext highlighter-rouge">full_name</code> to generate a test for it.</p> <p>Thats all, your first test is created!</p> <p><img src="/gdUnit3/assets/images/first-steps/generated-test-suite.png" alt="" /></p> <p>A test is defined as a function following the pattern <code class="language-plaintext highlighter-rouge">test_name([args]):</code> and must start with the prefix “test_” to be identified as a test. The <code class="language-plaintext highlighter-rouge">name</code> is freely selectable, but should correspond to the function to be tested. Test arguments are optional and will be explainted later in the advanced testing section.</p> <h2 id="execute-your-test"> <a href="#execute-your-test" class="anchor-heading" aria-labelledby="execute-your-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Execute your Test </h2> <p>After your first test is created we want to execute it. Do this by select your test in the editor via right mouse button and click on “Run Tests” or “Debug Tests” <img src="/gdUnit3/assets/images/first-steps/run-selected-test-case.png" alt="" /></p> <p>The test run is is visualisized in the GdUnit3 inspector and allows you to inspect the test results. <img src="/gdUnit3/assets/images/first-steps/first-test-run-result.png" alt="" /></p> <p>As you can see your first test run results with an failure.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>line 10: Test not implemented!
</code></pre></div></div> <p>By default, a generated test first fails with the failure message “Test not implemented” because the assertion <code class="language-plaintext highlighter-rouge">assert_not_yet_implemented()</code> is used in the test. By double-clicking on the failed test you can jump directly to the test failure.</p> <p><img src="/gdUnit3/assets/images/first-steps/jump-to-failure.png" alt="" /></p> <h2 id="complete-your-first-test"> <a href="#complete-your-first-test" class="anchor-heading" aria-labelledby="complete-your-first-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Complete your first Test </h2> <p>To define your test, you must specify what you want to test.<br /> For testing, GdUnit provides a large number of asserts to compare an actual value with an expected value.</p> <p>Remember that we did a test for the function <code class="language-plaintext highlighter-rouge">func full_name() -&gt; String:</code> with has a return type of <strong>String</strong>. To verify the return value of the function replace to complte your test by:</p> <ul class="tab" data-tab="c5e7f6d0-02c7-4a1f-8ef9-9a092e20093a" data-name="first-step-test_case"> <li class="active"> <a href="#">(load by path) </a> </li> <li> <a href="#">(by class_name) </a> </li> </ul> <ul class="tab-content" id="c5e7f6d0-02c7-4a1f-8ef9-9a092e20093a" data-name="first-step-test_case"> <li class="active"> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ss">void:
   </span><span class="n">var</span> <span class="n">person</span> <span class="o">=</span> <span class="nb">load</span><span class="p">(</span><span class="s2">"res://first-steps/TestPerson.gd"</span><span class="p">).</span><span class="nf">new</span><span class="p">(</span><span class="s2">"King"</span><span class="p">,</span> <span class="s2">"Arthur"</span><span class="p">)</span>
   <span class="n">assert_str</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="nf">full_name</span><span class="p">()).</span><span class="nf">is_equal</span><span class="p">(</span><span class="s2">"King Arthur"</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ss">void:
   </span><span class="n">var</span> <span class="n">person</span> <span class="p">:</span><span class="o">=</span> <span class="no">TestPerson</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"King"</span><span class="p">,</span> <span class="s2">"Arthur"</span><span class="p">)</span>
   <span class="n">assert_str</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="nf">full_name</span><span class="p">()).</span><span class="nf">is_equal</span><span class="p">(</span><span class="s2">"King Arthur"</span><span class="p">)</span>
</code></pre></div></div> </li> </ul> <p>Now run the test again by pressing the <strong>Run Debug Button</strong> in the inspector.<br /> For more details about the inspector buttons, see <a href="/gdUnit3/faq/inspector/#button-bar">Button Bar</a></p> <p><img src="/gdUnit3/assets/images/first-steps/rerun-test.png" alt="" /></p> <p>The test failure is fixed but now we get a warning?</p> <p><img src="/gdUnit3/assets/images/first-steps/rerun-test-result.png" alt="" /></p> <p>The report shows a message <strong>Detect &lt;1&gt; orphan nodes during test execution</strong> what happened?</p> <p>This warning indicates that we have forgotten to release an object. We still have to release the used object (TestPerson) after the test to avoid memory leaks.</p> <p>You can do this manually or with the included <code class="language-plaintext highlighter-rouge">auto_free</code> tool</p> <ul class="tab" data-tab="d22aebed-821f-4e45-bd9e-e5d1c012b5d1" data-name="first-step-orphan"> <li class="active"> <a href="#">GdScript (manual) </a> </li> <li> <a href="#">GdScript (auto_free) </a> </li> </ul> <ul class="tab-content" id="d22aebed-821f-4e45-bd9e-e5d1c012b5d1" data-name="first-step-orphan"> <li class="active"> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ss">void:
	</span><span class="n">var</span> <span class="n">person</span> <span class="p">:</span><span class="o">=</span> <span class="no">TestPerson</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"King"</span><span class="p">,</span> <span class="s2">"Arthur"</span><span class="p">)</span>
	<span class="n">assert_str</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="nf">full_name</span><span class="p">()).</span><span class="nf">is_equal</span><span class="p">(</span><span class="s2">"King Arthur"</span><span class="p">)</span>
	<span class="n">person</span><span class="p">.</span><span class="nf">free</span><span class="p">()</span>
</code></pre></div></div> </li> <li> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ss">void:
   </span><span class="n">var</span> <span class="n">person</span> <span class="ss">:TestPerson</span> <span class="o">=</span> <span class="n">auto_free</span><span class="p">(</span><span class="no">TestPerson</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"King"</span><span class="p">,</span> <span class="s2">"Arthur"</span><span class="p">))</span>
   <span class="n">assert_str</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="nf">full_name</span><span class="p">()).</span><span class="nf">is_equal</span><span class="p">(</span><span class="s2">"King Arthur"</span><span class="p">)</span>
</code></pre></div></div> </li> </ul> <p>GdUnit offers <a href="/gdUnit3/asserts/index/">Asserts</a> for all basic build-in types and much more. A collection of tests is called <code class="language-plaintext highlighter-rouge">Test Suite</code> in GdUnit, look into <a href="/gdUnit3/faq/test-suite">Test Suite</a> for more details.</p> <p>Now run your test again and it will complete successful. Congratulations you have successfully written your first test.</p> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2021-2022 Mike Schulze. Distributed by an <a href="https://github.com/MikeSchulze/gdUnit3/blob/master/LICENSE">MIT license.</a></p> </footer> </div> </div> <div class="search-overlay"></div> </div> <script src="/gdUnit3/assets/js/tabs.js"></script> <link rel="stylesheet" href="/gdUnit3/assets/css/tab.css" /> <link rel="stylesheet" href="/gdUnit3/assets/css/site-header.css" /> </body> </html>
